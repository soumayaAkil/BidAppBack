"use strict";

var querystring = require("query-string");

exports.createPathWithQuery = function (path, query) {
  if (!query) {
    throw new Error('"query" is a required parameter');
  }

  var pathExt = "";

  if (typeof query === "string") {
    // single call Id
    pathExt = "/".concat(query);
  } else if (typeof query === "object" && Object.keys(query).length > 0) {
    // filter
    pathExt = "?".concat(querystring.stringify(query));
  }

  return "".concat(path).concat(pathExt);
};

exports.getQuery = function (path) {
  return querystring.parse(path.split("?")[1]);
};

exports.sendError = function (callback, err, returnData) {
  // Throw the error in case if there is no callback passed
  if (callback) {
    callback(err, returnData);
  } else {
    throw err;
  }
};

exports.clone = function (a) {
  return JSON.parse(JSON.stringify(a));
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJxdWVyeXN0cmluZyIsInJlcXVpcmUiLCJleHBvcnRzIiwiY3JlYXRlUGF0aFdpdGhRdWVyeSIsInBhdGgiLCJxdWVyeSIsIkVycm9yIiwicGF0aEV4dCIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJzdHJpbmdpZnkiLCJnZXRRdWVyeSIsInBhcnNlIiwic3BsaXQiLCJzZW5kRXJyb3IiLCJjYWxsYmFjayIsImVyciIsInJldHVybkRhdGEiLCJjbG9uZSIsImEiLCJKU09OIl0sInNvdXJjZXMiOlsiLi4vc3JjL1V0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBxdWVyeXN0cmluZyA9IHJlcXVpcmUoXCJxdWVyeS1zdHJpbmdcIik7XG5cbmV4cG9ydHMuY3JlYXRlUGF0aFdpdGhRdWVyeSA9IGZ1bmN0aW9uIChwYXRoLCBxdWVyeSkge1xuICBpZiAoIXF1ZXJ5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdcInF1ZXJ5XCIgaXMgYSByZXF1aXJlZCBwYXJhbWV0ZXInKTtcbiAgfVxuXG4gIHZhciBwYXRoRXh0ID0gXCJcIjtcbiAgaWYgKHR5cGVvZiBxdWVyeSA9PT0gXCJzdHJpbmdcIikge1xuICAgIC8vIHNpbmdsZSBjYWxsIElkXG4gICAgcGF0aEV4dCA9IGAvJHtxdWVyeX1gO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBxdWVyeSA9PT0gXCJvYmplY3RcIiAmJiBPYmplY3Qua2V5cyhxdWVyeSkubGVuZ3RoID4gMCkge1xuICAgIC8vIGZpbHRlclxuICAgIHBhdGhFeHQgPSBgPyR7cXVlcnlzdHJpbmcuc3RyaW5naWZ5KHF1ZXJ5KX1gO1xuICB9XG5cbiAgcmV0dXJuIGAke3BhdGh9JHtwYXRoRXh0fWA7XG59O1xuXG5leHBvcnRzLmdldFF1ZXJ5ID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgcmV0dXJuIHF1ZXJ5c3RyaW5nLnBhcnNlKHBhdGguc3BsaXQoXCI/XCIpWzFdKTtcbn07XG5cbmV4cG9ydHMuc2VuZEVycm9yID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBlcnIsIHJldHVybkRhdGEpIHtcbiAgLy8gVGhyb3cgdGhlIGVycm9yIGluIGNhc2UgaWYgdGhlcmUgaXMgbm8gY2FsbGJhY2sgcGFzc2VkXG4gIGlmIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKGVyciwgcmV0dXJuRGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgZXJyO1xuICB9XG59O1xuXG5leHBvcnRzLmNsb25lID0gZnVuY3Rpb24gKGEpIHtcbiAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYSkpO1xufTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxXQUFXLEdBQUdDLE9BQU8sQ0FBQyxjQUFELENBQXpCOztBQUVBQyxPQUFPLENBQUNDLG1CQUFSLEdBQThCLFVBQVVDLElBQVYsRUFBZ0JDLEtBQWhCLEVBQXVCO0VBQ25ELElBQUksQ0FBQ0EsS0FBTCxFQUFZO0lBQ1YsTUFBTSxJQUFJQyxLQUFKLENBQVUsaUNBQVYsQ0FBTjtFQUNEOztFQUVELElBQUlDLE9BQU8sR0FBRyxFQUFkOztFQUNBLElBQUksT0FBT0YsS0FBUCxLQUFpQixRQUFyQixFQUErQjtJQUM3QjtJQUNBRSxPQUFPLGNBQU9GLEtBQVAsQ0FBUDtFQUNELENBSEQsTUFHTyxJQUFJLE9BQU9BLEtBQVAsS0FBaUIsUUFBakIsSUFBNkJHLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZSixLQUFaLEVBQW1CSyxNQUFuQixHQUE0QixDQUE3RCxFQUFnRTtJQUNyRTtJQUNBSCxPQUFPLGNBQU9QLFdBQVcsQ0FBQ1csU0FBWixDQUFzQk4sS0FBdEIsQ0FBUCxDQUFQO0VBQ0Q7O0VBRUQsaUJBQVVELElBQVYsU0FBaUJHLE9BQWpCO0FBQ0QsQ0FmRDs7QUFpQkFMLE9BQU8sQ0FBQ1UsUUFBUixHQUFtQixVQUFVUixJQUFWLEVBQWdCO0VBQ2pDLE9BQU9KLFdBQVcsQ0FBQ2EsS0FBWixDQUFrQlQsSUFBSSxDQUFDVSxLQUFMLENBQVcsR0FBWCxFQUFnQixDQUFoQixDQUFsQixDQUFQO0FBQ0QsQ0FGRDs7QUFJQVosT0FBTyxDQUFDYSxTQUFSLEdBQW9CLFVBQVVDLFFBQVYsRUFBb0JDLEdBQXBCLEVBQXlCQyxVQUF6QixFQUFxQztFQUN2RDtFQUNBLElBQUlGLFFBQUosRUFBYztJQUNaQSxRQUFRLENBQUNDLEdBQUQsRUFBTUMsVUFBTixDQUFSO0VBQ0QsQ0FGRCxNQUVPO0lBQ0wsTUFBTUQsR0FBTjtFQUNEO0FBQ0YsQ0FQRDs7QUFTQWYsT0FBTyxDQUFDaUIsS0FBUixHQUFnQixVQUFVQyxDQUFWLEVBQWE7RUFDM0IsT0FBT0MsSUFBSSxDQUFDUixLQUFMLENBQVdRLElBQUksQ0FBQ1YsU0FBTCxDQUFlUyxDQUFmLENBQVgsQ0FBUDtBQUNELENBRkQifQ==